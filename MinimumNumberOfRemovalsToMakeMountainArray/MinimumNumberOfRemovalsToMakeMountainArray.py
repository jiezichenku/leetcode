class Solution:
    def searchMaxAscend(self, nums: list[int]) -> int:
        dp = []
        for i in range(0, len(nums)):
            if i < 1:
                dp.append(1)
            else:
                maxdp = 1
                for j in range(0, i):
                    if nums[j] < nums[i]:
                        if maxdp < dp[j] + 1:
                            maxdp = dp[j] + 1
                dp.append(maxdp)
        return dp[len(nums)-1]

    def minimumMountainRemovals(self, nums: list[int]) -> int:
        print(len(nums))
        maxMountainSize = 0
        for i in range(1, len(nums)-1):
            left = nums[0:i+1]
            right = nums[i:len(nums)]
            right.reverse()
            leftAscend = self.searchMaxAscend(left)
            rightAscend = self.searchMaxAscend(right)
            if (leftAscend > 1) & (rightAscend > 1):
                mountainSize = leftAscend + rightAscend - 1
                if mountainSize > maxMountainSize:
                    maxMountainSize = mountainSize
        return len(nums) - maxMountainSize


if __name__ == '__main__':
    obj = Solution()
    ans = obj.minimumMountainRemovals([50799617,60138856,71385258,339437481,520451135,226427309,777769939,602748749,800856155,321461442,937276240,749352623,924435391,173061840,953975609,441193587,427307639,122256858,974434355,72568092,546785252,635182266,166813606,29149116,584608075,588476289,190271388,227215864,889178434,950868942,430183063,93770731,230666031,237372139,266287605,341891313,145853675,733142606,995975956,438764108,158406799,541297288,439265391,289492024,142686056,602304108,379998991,194078229,611776362,33157144,856833950,304928743,35684519,983037959,375412467,303923060,852055320,433783344,463736522,466232393,471425307,154254776,517044276,798420973,138343657,740215363,844488141,958694004,193066892,936238990,214938653,767270846,195525798,833789891,558479881,584838533,54057120,657301258,208994188,139875335,624471926,192844602,943948703,420204597,115651339,589233999,821638907,463274644,153329856,576209814,921078643,597282736,900148492,685298926,777173118,915767401,841082334,657561658,373674711,613143362,504132142,666213621,671815201,191973119,867278872,438467799,158698011,683250029,491514505,595071827,8038441,397820583,696043634,617612643,282908977,493736393,918072667,320189911,324767078,299161666,766571928,574261363,705080902,560649046,722438020,214271785,770659540,7390732,235355616,339733945,905305708,777889455,927430052,812650375,494984358,757073807,840486763,785102472,686350742,400638492,499530376,707629616,213383173,479774558,831170729,917025543,321943161,264804571,953832694,348559734,167597078,736577562,548438930,721731012,691922318,657415252,60938950,66085867,776505194,277195649,442193177,357314504,790127688,585498348,449055175,330155175,870132574,739855034,933848657,57309239,10080396,596184707,940472154,862475316,688205059,520760806,158863151,412477889,461726865,571045590,853546397,873900725,878231754,933629116,165884568,357616927,603489910,780996192,960202744,887841643,463490931,546362018,484872380,300483690,439275339,269040950,946449195,953117524,113136165,176262382,614397478,953802274,420324579,285305812,480445111,473019338,491307200,725891087,971883805,30032888,37255342,529550054,535091934,52774554,310436091,899732197,391932295,65906944,83378436,533266110,789294956,705444284,558709296,737501682,980679426,481060165,409770610,979856030,676292895,475087858,99210812,92732394,427193375,229285381,749131676,273283305,814593869,172603903,479114778,559557137,305965251,437744643,873307994,629817734,780449684,368952018,397941972,640482190,37093402,118819141,628428693,20076303,840651660,960524986,145624021,785541648,369788476,366492985,520854054,788529550,430198801,895692892,764736218,365343952,219257591,200366385,259516222,857015940,318334875,175044207,223661358,948707965,974582111,622206730,4588257,909869808,357531872,127055922,418200664,882014260,795547874,701692307,258451921,333367660,608241417,686569201,180817374,840930507,520906166,940221185,675875712,345587914,651672581,726857248,399998938,548948166,604835275,367313145,790468571,122781704,399299843,278188258,910100473,551339218,843945113,628140776,34562370,434611165,454857257,833445017,303228988,356929277,521631153,934443639,119492870,250301689,19290834,899080642,379300837,164023008,79029079,434190720,68535689,296613594,16565492,127918573,282184414,922494718,932254202,269280090,883639685,150882675,753303382,600327769,239486427,199669679,271840806,578277738,137824549,59537727,437165514,15550598,36426791,158647469,194578779,9535320,167679565,172641567,566180630,710828085,372611072,759554894,155030136,843375761,780850292,273107864,820069704,150213060,362981416,118697900,72586854,662432851,252295095,979922218,124512887,365810353,616135310,890676096,464894529,636249294,914019053,336483149,449893716,90403199,480178256,13963365,845270502,760061153,80395800,670924471,445201486,387094413,95919286,12106538,769205115,621570283,996271873,553253299,848223827,445967918,1513178,544227922,786327326,722814644])
    print(ans)
